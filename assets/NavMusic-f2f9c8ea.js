import{_ as p}from"./app-5c7d28c7.js";import f from"./MyIcon-7d083e81.js";import{c as v,r as P,o as b,A as h,s as _,W as A,a7 as E,$ as w,C as G,Y as l,a5 as g,u as x,Z as C,_ as I}from"./framework-608e059a.js";var S="//file.mo7.cc/music/";const r=s=>{var n=`${S}${s.name}-${s.artist}`;return{name:s.name,artist:s.artist,url:`${n}/audio.mp3`,cover:`${n}/cover.webp`,lrc:`${n}/lyrics.lrc`}},c=[];c.push(r({name:"光年之外",artist:"G.E.M.邓紫棋"}));c.push(r({name:"泡沫",artist:"G.E.M.邓紫棋"}));c.push(r({name:"喜欢你",artist:"G.E.M.邓紫棋"}));const N={class:"MyMusic"},k=l("div",{id:"GlobalAPlayer"},null,-1),B=v({__name:"NavMusic",setup(s){let n,o=P(!1);const M=()=>{o.value=!o.value},u=()=>{o.value&&(o.value=!1)},d=()=>{const t=document.querySelector(".navbar-end");if(!t)return;if(!document.querySelector("#MyMusic_Menu")){const e=document.createElement("div");e.id="MyMusic_Menu",e.classList.add("nav-item"),e.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',t.appendChild(e)}const a=document.querySelector("#MyMusic_Menu");a.onclick=e=>{M(),e.stopPropagation()};const i=document.querySelector(".MyMusic");i.onclick=e=>{e.stopPropagation()}},m=()=>{if(!n)return;var t=window;const a=document.getElementById("GlobalAPlayer");!a||a.classList.contains("aplayer")||(t.GlobalAPlayer=new n({container:document.getElementById("GlobalAPlayer"),audio:c,lrcType:3,listFolded:!1,listMaxHeight:"324px",mini:!1,fixed:!1,volume:1,storageName:"GlobalAPlayer"}),t.GlobalAPlayer.on("play",function(){var e;(e=document.getElementById("MyMusic_icon"))==null||e.setAttribute("spin","true")}),t.GlobalAPlayer.on("pause",function(){var e;(e=document.getElementById("MyMusic_icon"))==null||e.setAttribute("spin","false")}))};function y(){var t=window;window.location.pathname.includes("/music/")&&t.GlobalAPlayer&&t.GlobalAPlayer.pause()}return b(()=>{const t=h();p(()=>import("./APlayer.min-a37cd21c.js").then(a=>a.A),["assets/APlayer.min-a37cd21c.js","assets/commonjsHelpers-725317a4.js"]).then(a=>{_(()=>{n=a.default,d(),m(),y(),window.document.body.onclick=()=>{u()}}),t.beforeEach(()=>{_(()=>{setTimeout(()=>{d(),m()},50),setTimeout(()=>{y()},2e3)})})})}),(t,a)=>{const i=G("ClientOnly");return A(),E(i,null,{default:w(()=>[l("div",N,[l("div",{class:g(["MyMusic_Play",{hide:!x(o)}])},[l("div",{class:"close",onClick:u},[C(f,{name:"guanbi"})]),k],2)])]),_:1})}}});const q=I(B,[["__file","NavMusic.vue"]]);export{q as default};
